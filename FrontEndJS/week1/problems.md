# Functional JavaScript

We are going to solve tasks with as less for and while loops as possible.

We are going to take advantage of the higher-order functions that are available (And we are going to implement.)

Out basis will be:

* map
* filter
* reduce
* all
* any

First, we are going to understand what types we have in JavaScript:

## Types and typeof

JavaScript is a dynamic language, which means that we do not explicitly declare the types of our variables.

But there are types. In JavaScript, we have a `typeof` operator which returns the __string representation__ of the type.

We have the following types (This is `types.js` file in the current folder):

```javascript
"use strict";

// list with different types in JavaScript
var types = [
  5, // "number"
  "You look good!", // "string"
  { "name" : "Dude1"}, // "object"
  function(x) {
    return x * x;
  }, // "function"
  [1,2,3], // "object" :(
  true // "boolean"
];

types.forEach(function(value) {
  console.log(value, typeof value);
});

var a = 5;

if(typeof a === "number") {
  console.log(a + " is a number");
}
```

## Sum only numbers. Concat only strings.

Implement two functions called `sum` and `concat`. Both functions take two arguments - `a` and `b`.

* `sum` returns the sum of `a` and `b` only if `a` and `b` are numbers! Otherwise it throws a `TypeError`
* `concat` returns the concatenation of `a` and `b` only if `a` and `b` are strings! Otherwise it throws a `TypeError`

In JavaScript, you can throw an error like that:

```javascript
if(false) {
    throw new TypeError("Something is wrong with the types.");
}
```

## Contains. Find element in a list.

Using only higher-order functions and variables, implement `contains` with the following signature:

```javascript
var contains = function(element, arr) {

};
```

The function returns `true` if `element` is present in `arr`. Otherwise - `false`

## Contains them all? Find a list in a list

Using only higher-order functions and variables, implement `contains` with the following signature:

```javascript
var containsAll = function(elements, arr) {

};
```

The function returns `true` if all items in the `elements` array are present in `arr`. Otherwise - `false`

## Group them by!

Implement a function, called `groupBy` with the following signature:

```javascript
var groupBy = function(groupingFunction, arr) {

};
```

The function returns an associative array (Objects - `{}` in JavaScript) where the keys are generated by the `groupingFunction`.

For each key, we keep an array of values from `arr` for which, the `groupingFunction` returns the same key.

__All keys returned must be strings.__

For example:

```javascript
var students = [{
  "name" : "Daniel Taskoff",
  "course" : "Frontend JavaScript"
}, {
  "name" : "Elena Jeleva",
  "course" : "Programming 101"
}, {
  "name" : "Luboslava Dimitrova",
  "course" : "Frontend JavaScript"
}, {
  "name" : "Anton Antonov",
  "course" : "Core Java"
}, {
  "name" : "Nikola Dichev",
  "course" : "Core Java"
}];


console.log(groupBy(function(student) {
  return student.course;
}, students));
```

Which outputs:

```javascript
{ 'Frontend JavaScript':
   [ { name: 'Daniel Taskoff', course: 'Frontend JavaScript' },
     { name: 'Luboslava Dimitrova', course: 'Frontend JavaScript' } ],
  'Programming 101': [ { name: 'Elena Jeleva', course: 'Programming 101' } ],
  'Core Java':
   [ { name: 'Anton Antonov', course: 'Core Java' },
     { name: 'Nikola Dichev', course: 'Core Java' } ] }
```

## Count them by!

Implement a function, called `countBy` with the following signature:

```javascript
var countBy = function(countingFunction, arr) {

};
```

This functions works the same way as `groupBy` - keys are generated by `countingFunction`, but the values are just the count of items for the given key (Instead of array of values, like `groupBy`)

For example:

```javascript
var students = [{
  "name" : "Daniel Taskoff",
  "course" : "Frontend JavaScript"
}, {
  "name" : "Elena Jeleva",
  "course" : "Programming 101"
}, {
  "name" : "Luboslava Dimitrova",
  "course" : "Frontend JavaScript"
}, {
  "name" : "Anton Antonov",
  "course" : "Core Java"
}, {
  "name" : "Nikola Dichev",
  "course" : "Core Java"
}];


console.log(countBy(function(student) {
  return student.course;
}, students));
```

Which outputs:

```javascript
{ 'Frontend JavaScript': 2,
  'Programming 101': 1,
  'Core Java': 2
}
```

## always!

Maybe the weirdest function for today. Implement a function called `always` with the following signature:

```javascript
var always = function(value) {

};
```
The function returns a function, which is the identity function for `value`.

For example:

```javascript
var f = always(5);
console.log(f()); // 5
```

## A list of only certain values.

Implement a function, called `only` with the following signature:

```javascript
var only = function(type, arr) {

};
```

The function returns true, if all elements in `arr` are from the given `type` (which is a string - `'number'`, `'string'`, etc.)

For example:

```javascript
only("string", [1,2,3,4]); // false
only("number", [1,2,3,4]); // true
```

## Texas Ranger!

Implement a function, called `range` with the following signature:

```javascript
var range = function(from, to) {

};
```

The function returns a list of integers, staring with `from` and finishing with `to` inclusive.

For example `range(1,10)` would give us the `[1,2,3,4,5,6,7,8,9,10]` list.

Try to implement the function, using recursion and `[].concat`!

## find or undefined

Implement a function that finds an element in a list by a given predicate:

```javascript
var find = function(predicate, arr) {

};
```

The function returns __the first element, that matches the `predicate`__ with true.
If no element is found, return `undefined`.

## Without them!

Implement a function `without` with the following signature:

```javascript
var without = function(exclude, arr) {

}
```
`arr` and `exclude` are lists.
The function should return a new list, removing all elements from `exclude` in `arr`.

For example:

```javascript
console.log(without([5,6], [1,2,3,4,5,6]); // [1,2,3,4]
```

## Pluck

Implement a function, called `pluck` with the following signature:

```javascript
var pluck = function(property, arr) {

};
```

The function takes an array of objects and a `property` (a string) and returns new array with only the selected `property` from all items in `arr`.

For example:

```javascript
var students = [{
  "name" : "Daniel Taskoff",
  "course" : "Frontend JavaScript"
}, {
  "name" : "Elena Jeleva",
  "course" : "Programming 101"
}, {
  "name" : "Luboslava Dimitrova",
  "course" : "Frontend JavaScript"
}, {
  "name" : "Anton Antonov",
  "course" : "Core Java"
}, {
  "name" : "Nikola Dichev",
  "course" : "Core Java"
}];

pluck("name", students);
// ["Daniel Taskoff", "Elena Jeleva", "Luboslava Dimitrova", "Anton Antonov", "Nikola Dichev"]
```

## Zip!

Implement a function, called `zip` which takes a various number of arguments - all lists.

The function returns a new list, which merges together the values of each of the arrays with the values at the corresponding position.

Signature:

```javascript
var zip = function() {
  // this is how variable arguments is passed to the function
  // there is a variable called arguments
  // that is visible in the function
  console.log(arguments);
}
```

Example:

```javascript
console.log(zip([1, 2, 3], [4, 5, 6]));
// [ [1, 4], [2, 4], [3, 6] ]

console.log(zip([1, 2, 3], [4, 5, 6], [7, 8, 9]));
// [ [1, 4, 7], [2, 4, 8], [3, 6, 9] ]
```

## Histogram of words

Implement a function, called `wordsHistogram(str)` which takes a string and returns an object, representing the histogram of the words in the given string.

A histogram is the following:

```
{
    "word" : count
}
```

Where count is the number of times the word is found in the given string.

There are two very important specifications for the function:

* Everything must be converted to lowercase, before running the histogram
* You should exclude all punctuation from the string - `!?,.` etc.

For example:

```javascript
var str = "A function is a function with a very functional function!"
wordsHistogram(str);
```

Will output:

```javascript
{
    "a" : 3,
    "function" : 3,
    "is" : 1,
    "with" : 1,
    "very" : 1,
    "functional" : 1
}
```

## Histogram of characters

Implement a function, called `charsHistogram(str)` which takes a string and outputs a histogram of the characters in the string.

There are two very important specifications for the function:

* Everything must be converted to lowercase, before running the histogram.
* Don't count white space.
* You should exclude all punctuation from the string - `!?,.` etc.

For example:

```javascript
var str = "Count the characters in this very profound sentence";
console.log(charsHistogram(str));
```

Will output:

```javascript
{ c: 4,
  o: 3,
  u: 2,
  n: 5,
  t: 5,
  h: 3,
  e: 6,
  a: 2,
  r: 4,
  s: 3,
  i: 2,
  v: 1,
  y: 1,
  p: 1,
  f: 1,
  d: 1 }
```

## Unordered lists and ordered lists

Implement two functions - `ol` and `ul` that takes a list of `items`:

```javascript
var items = [{ "label" : "Item 1"}, { "label" : "Item 2"}, ...]
```

`ul` and `ol` have the following signature:

```javascript
var ul = function(items) {

};

var ol = function(items) {

};
```

Both functions output an HTML string - ordered or unordered lists, constructed from `items` where the text in each `<li>` is the value of each `label` key.


For example:

```javascript
var items = [{ "label" : "Item 1"}, { "label" : "Item 2"}]
var htmlOl = ol(items);
```

`htmlOl` will be:

```html
<ol>
<li>Item 1</li>
<li>Item 2</li>
</ol>
```

## Nested lists

Alter the `ol` and `ul` functions, so they can output [nested lists](http://www.w3schools.com/html/tryit.asp?filename=tryhtml_lists2).

`items` will be altered, so each object can have a `children` key.
For example:


```javascript
var items = [{ "label" : "Item 1"},
             { "label" : "Item 2", "children" : [
                {
                    "label" : "Level 2 of Item 2"
                },
                {
                    "label" : "Another level 2"
                }
             ]}];

```

`ol(items)` will output:

```html
<ol>
    <li>Item 1</li>
    <li>Item 2
        <ol>
          <li>Level 2 of Item 2</li>
          <li>Another level 2</li>
        </ol>
    </li>
</ol>
```
